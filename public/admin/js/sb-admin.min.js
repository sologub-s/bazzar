/*!
 * Start Bootstrap - SB Admin v4.0.0-beta.2 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */
"use strict";!function(t){t('.navbar-sidenav [data-toggle="tooltip"]').tooltip({template:'<div class="tooltip navbar-sidenav-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),t("#sidenavToggler").click(function(e){e.preventDefault(),t("body").toggleClass("sidenav-toggled"),t(".navbar-sidenav .nav-link-collapse").addClass("collapsed"),t(".navbar-sidenav .sidenav-second-level, .navbar-sidenav .sidenav-third-level").removeClass("show")}),t(".navbar-sidenav .nav-link-collapse").click(function(e){e.preventDefault(),t("body").removeClass("sidenav-toggled")}),t("body.fixed-nav .navbar-sidenav, body.fixed-nav .sidenav-toggler, body.fixed-nav .navbar-collapse").on("mousewheel DOMMouseScroll",function(t){var e=t.originalEvent,s=e.wheelDelta||-e.detail;this.scrollTop+=30*(s<0?1:-1),t.preventDefault()}),t(document).scroll(function(){t(this).scrollTop()>100?t(".scroll-to-top").fadeIn():t(".scroll-to-top").fadeOut()}),t('[data-toggle="tooltip"]').tooltip(),t(document).on("click","a.scroll-to-top",function(e){var s=t(this);t("html, body").stop().animate({scrollTop:t(s.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()}),t(".jsToggleAdminButton").on("click",function(){var e=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/users/toggle/admin/"+t(this).data("id")+"/",function(s){t(e).html(t(e).data("default-text")),s.success?(t(e).parent().find("small").hide(),t(e).toggleClass("active",s.userIsAdmin).toggleClass("btn-outline-primary",!s.userIsAdmin).toggleClass("btn-primary",s.userIsAdmin)):t(e).parent().find("small").html("<br />"+s.errors.join("; ")).show()}))}),t(".jsToggleBannedButton").on("click",function(){var e=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/users/toggle/banned/"+t(this).data("id")+"/",function(s){t(e).html(t(e).data("default-text")),s.success?(t(e).parent().find("small").hide(),t(e).toggleClass("active",s.userBanned).toggleClass("btn-outline-warning",!s.userBanned).toggleClass("btn-warning",s.userBanned)):t(e).parent().find("small").html("<br />"+s.errors.join("; ")).show()}))}),t(".jsToggleMenuLinkActiveButton").on("click",function(){var e=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/menulinks/toggle/active/"+t(this).data("id")+"/",function(s){t(e).html(t(e).data("default-text")),s.success?(t(e).parent().find("small").hide(),t(e).toggleClass("active",s.menuLinkActive).toggleClass("btn-outline-success",!s.menuLinkActive).toggleClass("btn-success",s.menuLinkActive)):t(e).parent().find("small").html("<br />"+s.errors.join("; ")).show()}))}),t(".jsToggleProductActiveButton").on("click",function(){var e=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/products/toggle/active/"+t(this).data("id")+"/",function(s){t(e).html(t(e).data("default-text")),s.success?(t(e).parent().find("small").hide(),t(e).toggleClass("active",s.productActive).toggleClass("btn-outline-success",!s.productActive).toggleClass("btn-success",s.productActive)):t(e).parent().find("small").html("<br />"+s.errors.join("; ")).show()}))}),t(".jsApplyFilter").on("change",function(){location.href=t(this).val()}),t(".jsSortBy").on("click",function(){location.href=t(this).hasClass("sorting_asc")?t(this).data("sortbylinkdesc"):t(this).data("sortbylinkasc")}),t(".jsSearchContainer").each(function(){var e=t(this);e.find(".jsSearchReset").on("click",function(){location.href=t(this).data("reseturl")}),e.find(".jsSearchGo").on("click",function(){location.href=t(this).data("gourl")+"&search_request="+e.find(".jsSearchInput").val()}),e.find(".jsSearchInput").on("keypress",function(t){13!=t.which?27!=t.which||e.find(".jsSearchInput").val(""):e.find(".jsSearchGo").click()})}),t(".jsKcOpener").on("click",function(){var e=t(this),s=t(e.data("target"));window.KCFinder={callBack:function(t){window.KCFinder=null,s.length&&s.val(t).trigger("input")}},window.open("/admin/ckeditor/kcfinder/browse.php?type=images","kcfinder_textbox","status=0, toolbar=0, location=0, menubar=0, directories=0, resizable=1, scrollbars=0, width=800, height=600")}),t(".jsImageUrl").on("input",function(){var e=this;_.debounce(function(){t.ajax({url:t(e).val(),type:"GET",success:function(){t(t(e).data("target")).attr("src",t(e).val()).removeClass("d-none")},error:function(){t(t(e).data("target")).addClass("d-none")}})},500)()}),t(".jsTogglePostActiveButton").on("click",function(){var e=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/posts/toggle/active/"+t(this).data("id")+"/",function(s){t(e).html(t(e).data("default-text")),s.success?(t(e).parent().find("small").hide(),t(e).toggleClass("active",s.postActive).toggleClass("btn-outline-success",!s.postActive).toggleClass("btn-success",s.postActive)):t(e).parent().find("small").html("<br />"+s.errors.join("; ")).show()}))}),t(".jsBootstrapSwitch").bootstrapSwitch(),setInterval(function(){t(".jsBrokenCategory").toggleClass("d-none",!t(".jsToggleBrokenCategories:checked").length)},1e3),t(".jsSaveCategory").on("click",function(){location.href=t(this).data("url")+"?terms="+t(this).closest(".row").find("input[name=search_terms]").val()});var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"/admin/tags/source",cache:!1,filter:function(e){return t.map(e,function(t){return{name:t}})}}});e.initialize(),t("input.jsTagsinput").tagsinput({tagClass:"badge badge-info",typeaheadjs:{name:"allTags",displayKey:"name",valueKey:"name",source:e.ttAdapter()}}),t(".jsToggleContentblockActiveButton").on("click",function(){var e=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/contentblocks/toggle/active/"+t(this).data("id")+"/",function(s){t(e).html(t(e).data("default-text")),s.success?(t(e).parent().find("small").hide(),t(e).toggleClass("active",s.contentblockActive).toggleClass("btn-outline-success",!s.contentblockActive).toggleClass("btn-success",s.contentblockActive)):t(e).parent().find("small").html("<br />"+s.errors.join("; ")).show()}))}),t(function(){t('[data-toggle="popover"]').popover()})}(jQuery);