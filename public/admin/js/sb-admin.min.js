/*!
 * Start Bootstrap - SB Admin v4.0.0-beta.2 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2017 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */
"use strict";!function(t){t('.navbar-sidenav [data-toggle="tooltip"]').tooltip({template:'<div class="tooltip navbar-sidenav-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),t("#sidenavToggler").click(function(s){s.preventDefault(),t("body").toggleClass("sidenav-toggled"),t(".navbar-sidenav .nav-link-collapse").addClass("collapsed"),t(".navbar-sidenav .sidenav-second-level, .navbar-sidenav .sidenav-third-level").removeClass("show")}),t(".navbar-sidenav .nav-link-collapse").click(function(s){s.preventDefault(),t("body").removeClass("sidenav-toggled")}),t("body.fixed-nav .navbar-sidenav, body.fixed-nav .sidenav-toggler, body.fixed-nav .navbar-collapse").on("mousewheel DOMMouseScroll",function(t){var s=t.originalEvent,e=s.wheelDelta||-s.detail;this.scrollTop+=30*(e<0?1:-1),t.preventDefault()}),t(document).scroll(function(){t(this).scrollTop()>100?t(".scroll-to-top").fadeIn():t(".scroll-to-top").fadeOut()}),t('[data-toggle="tooltip"]').tooltip(),t(document).on("click","a.scroll-to-top",function(s){var e=t(this);t("html, body").stop().animate({scrollTop:t(e.attr("href")).offset().top},1e3,"easeInOutExpo"),s.preventDefault()}),t(".jsToggleAdminButton").on("click",function(){var s=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/users/toggle/admin/"+t(this).data("id")+"/",function(e){t(s).html(t(s).data("default-text")),e.success?(t(s).parent().find("small").hide(),t(s).toggleClass("active",e.userIsAdmin).toggleClass("btn-outline-primary",!e.userIsAdmin).toggleClass("btn-primary",e.userIsAdmin)):t(s).parent().find("small").html("<br />"+e.errors.join("; ")).show()}))}),t(".jsToggleBannedButton").on("click",function(){var s=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/users/toggle/banned/"+t(this).data("id")+"/",function(e){t(s).html(t(s).data("default-text")),e.success?(t(s).parent().find("small").hide(),t(s).toggleClass("active",e.userBanned).toggleClass("btn-outline-warning",!e.userBanned).toggleClass("btn-warning",e.userBanned)):t(s).parent().find("small").html("<br />"+e.errors.join("; ")).show()}))}),t(".jsToggleProductActiveButton").on("click",function(){var s=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/products/toggle/active/"+t(this).data("id")+"/",function(e){t(s).html(t(s).data("default-text")),e.success?(t(s).parent().find("small").hide(),t(s).toggleClass("active",e.productActive).toggleClass("btn-outline-success",!e.productActive).toggleClass("btn-success",e.productActive)):t(s).parent().find("small").html("<br />"+e.errors.join("; ")).show()}))}),t(".jsApplyFilter").on("change",function(){location.href=t(this).val()}),t(".jsSortBy").on("click",function(){location.href=t(this).hasClass("sorting_asc")?t(this).data("sortbylinkdesc"):t(this).data("sortbylinkasc")}),t(".jsSearchContainer").each(function(){var s=t(this);s.find(".jsSearchReset").on("click",function(){location.href=t(this).data("reseturl")}),s.find(".jsSearchGo").on("click",function(){location.href=t(this).data("gourl")+"&search_request="+s.find(".jsSearchInput").val()}),s.find(".jsSearchInput").on("keypress",function(t){13!=t.which?27!=t.which||s.find(".jsSearchInput").val(""):s.find(".jsSearchGo").click()})}),t(".jsKcOpener").on("click",function(){var s=t(this),e=t(s.data("target"));window.KCFinder={callBack:function(t){window.KCFinder=null,e.length&&e.val(t).trigger("input")}},window.open("/admin/ckeditor/kcfinder/browse.php?type=images","kcfinder_textbox","status=0, toolbar=0, location=0, menubar=0, directories=0, resizable=1, scrollbars=0, width=800, height=600")}),t(".jsImageUrl").on("input",function(){var s=this;_.debounce(function(){t.ajax({url:t(s).val(),type:"GET",success:function(){t(t(s).data("target")).attr("src",t(s).val()).removeClass("d-none")},error:function(){t(t(s).data("target")).addClass("d-none")}})},500)()}),t(".jsTogglePostActiveButton").on("click",function(){var s=this;t(this).hasClass("disabled")||(t(this).html(t(this).data("loading-text")),t.post("/admin/posts/toggle/active/"+t(this).data("id")+"/",function(e){t(s).html(t(s).data("default-text")),e.success?(t(s).parent().find("small").hide(),t(s).toggleClass("active",e.postActive).toggleClass("btn-outline-success",!e.postActive).toggleClass("btn-success",e.postActive)):t(s).parent().find("small").html("<br />"+e.errors.join("; ")).show()}))}),t(".jsBootstrapSwitch").bootstrapSwitch(),setInterval(function(){t(".jsBrokenCategory").toggleClass("d-none",!t(".jsToggleBrokenCategories:checked").length)},1e3),t(".jsSaveCategory").on("click",function(){location.href=t(this).data("url")+"?terms="+t(this).closest(".row").find("input[name=search_terms]").val()})}(jQuery);